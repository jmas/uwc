{
  "front/index.js": {
    "id": "front/index.js",
    "type": "js",
    "mtime": 1414944826000,
    "src": "\"use strict\";\n\n\n// Shim\n\nif (typeof console === 'undefined') {\n  window.console = console = {\n    log: function() {},\n    error: function() {},\n    warning: function() {}\n  };\n}\n\n\n// Requires\n\nvar Router = require('component/router');\nvar Emitter = require('component/emitter');\n\nvar storeService = require('./store-service.js');\n\nvar dom = require('./dom.js');\n\nvar productsPartFn = require('./parts/products.js');\nvar productPartFn = require('./parts/product.js');\nvar cartPartFn = require('./parts/cart.js');\nvar checkoutPartFn = require('./parts/checkout.js');\n\n\n// Local vars\n\nvar pageListEl = document.getElementById('page-list');\nvar cartContentEl = document.getElementById('cart-content');\nvar pagesEls = [];\nvar emitter = new Emitter;\nvar router = new Router;\n\n\n// Functions\n\nfunction addPage(name, bootstrapFn) {\n  if (typeof name !== 'string') {\n    console.warn('name should be a string.');\n    return;\n  }\n\n  var el = document.createElement('DIV');\n  el.setAttribute('class', 'page-item');\n  el.setAttribute('data-page', name);\n  \n  if (typeof bootstrapFn === 'function') {\n    var partEl = bootstrapFn(el, emitter);\n    \n    if (typeof partEl !== 'undefined' && partEl !== null && dom.isNode(partEl)) {\n      el.appendChild(partEl);\n    }\n  }\n\n  pageListEl.appendChild(el);\n  pagesEls.push({\n    name: name,\n    el: el\n  });\n}\n\nfunction activatePage(name) {\n  if (typeof name !== 'string') {\n    console.warn('name should be a string.');\n    return;\n  }\n\n  for (var item,i=0,len=pagesEls.length; i<len; i++) {\n    item = pagesEls[i];\n\n    if (item.name === name) {\n      item.el.classList.add('active');\n    } else {\n      item.el.classList.remove('active');\n    }\n  }\n\n  emitter.emit('page.activated', name);\n}\n\nfunction registerRouting() {\n  var prevLoc = null;\n  var loc;\n\n  function pingLocation() {\n    loc = location.hash.substring(1);\n\n    if (loc !== prevLoc) {\n      router.dispatch(loc);\n      prevLoc = loc;\n      dom.scrollTo(document.body, 0, 5000);\n    }\n\n    setTimeout(pingLocation, 10);\n  }\n\n  pingLocation();\n}\n\nfunction registerCart() {\n  var el = document.createElement('DIV');\n  \n  if (typeof cartPartFn === 'function') {\n    var partEl = cartPartFn(el, emitter);\n\n    if (typeof partEl !== 'undefined' && partEl !== null && dom.isNode(partEl)) {\n      el.appendChild(partEl);\n    }\n  }\n\n  cartContentEl.appendChild(el);\n}\n\n\n// Bootstrap\n\nstoreService.on('error', function(msg) {\n  emitter.emit('error', msg);\n});\n\nstoreService.on('checkout', function() {\n  router.dispatch('/checkout');\n});\n\naddPage('products', productsPartFn);\naddPage('product', productPartFn);\naddPage('checkout', checkoutPartFn);\n\nregisterCart();\n\nrouter.get('/', function() {\n  activatePage('products');\n  emitter.emit('page.activated.products');\n});\n\nrouter.get('/product/:id', function(id) {\n  activatePage('product');\n  emitter.emit('page.activated.product', id);\n});\n\nrouter.get('/checkout', function() {\n  alert('Ваш заказ принят и обрабатывается!');\n});\n\nregisterRouting();",
    "deps": {
      "component/router": "components/component-router@0.0.1/index.js",
      "component/emitter": "components/component-emitter@1.1.3/index.js",
      "./store-service.js": "front/store-service.js",
      "./dom.js": "front/dom.js",
      "./parts/products.js": "front/parts/products.js",
      "./parts/product.js": "front/parts/product.js",
      "./parts/cart.js": "front/parts/cart.js",
      "./parts/checkout.js": "front/parts/checkout.js"
    },
    "entry": true
  },
  "components/component-emitter@1.1.3/index.js": {
    "id": "components/component-emitter@1.1.3/index.js",
    "type": "js",
    "mtime": 1403245556000,
    "src": "\n/**\n * Expose `Emitter`.\n */\n\nmodule.exports = Emitter;\n\n/**\n * Initialize a new `Emitter`.\n *\n * @api public\n */\n\nfunction Emitter(obj) {\n  if (obj) return mixin(obj);\n};\n\n/**\n * Mixin the emitter properties.\n *\n * @param {Object} obj\n * @return {Object}\n * @api private\n */\n\nfunction mixin(obj) {\n  for (var key in Emitter.prototype) {\n    obj[key] = Emitter.prototype[key];\n  }\n  return obj;\n}\n\n/**\n * Listen on the given `event` with `fn`.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.on =\nEmitter.prototype.addEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n  (this._callbacks[event] = this._callbacks[event] || [])\n    .push(fn);\n  return this;\n};\n\n/**\n * Adds an `event` listener that will be invoked a single\n * time then automatically removed.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.once = function(event, fn){\n  var self = this;\n  this._callbacks = this._callbacks || {};\n\n  function on() {\n    self.off(event, on);\n    fn.apply(this, arguments);\n  }\n\n  on.fn = fn;\n  this.on(event, on);\n  return this;\n};\n\n/**\n * Remove the given callback for `event` or all\n * registered callbacks.\n *\n * @param {String} event\n * @param {Function} fn\n * @return {Emitter}\n * @api public\n */\n\nEmitter.prototype.off =\nEmitter.prototype.removeListener =\nEmitter.prototype.removeAllListeners =\nEmitter.prototype.removeEventListener = function(event, fn){\n  this._callbacks = this._callbacks || {};\n\n  // all\n  if (0 == arguments.length) {\n    this._callbacks = {};\n    return this;\n  }\n\n  // specific event\n  var callbacks = this._callbacks[event];\n  if (!callbacks) return this;\n\n  // remove all handlers\n  if (1 == arguments.length) {\n    delete this._callbacks[event];\n    return this;\n  }\n\n  // remove specific handler\n  var cb;\n  for (var i = 0; i < callbacks.length; i++) {\n    cb = callbacks[i];\n    if (cb === fn || cb.fn === fn) {\n      callbacks.splice(i, 1);\n      break;\n    }\n  }\n  return this;\n};\n\n/**\n * Emit `event` with the given args.\n *\n * @param {String} event\n * @param {Mixed} ...\n * @return {Emitter}\n */\n\nEmitter.prototype.emit = function(event){\n  this._callbacks = this._callbacks || {};\n  var args = [].slice.call(arguments, 1)\n    , callbacks = this._callbacks[event];\n\n  if (callbacks) {\n    callbacks = callbacks.slice(0);\n    for (var i = 0, len = callbacks.length; i < len; ++i) {\n      callbacks[i].apply(this, args);\n    }\n  }\n\n  return this;\n};\n\n/**\n * Return array of callbacks for `event`.\n *\n * @param {String} event\n * @return {Array}\n * @api public\n */\n\nEmitter.prototype.listeners = function(event){\n  this._callbacks = this._callbacks || {};\n  return this._callbacks[event] || [];\n};\n\n/**\n * Check if this emitter has `event` handlers.\n *\n * @param {String} event\n * @return {Boolean}\n * @api public\n */\n\nEmitter.prototype.hasListeners = function(event){\n  return !! this.listeners(event).length;\n};\n",
    "deps": {}
  },
  "front/pages/products.js": {
    "id": "front/pages/products.js",
    "type": "js",
    "mtime": 1414875156000,
    "src": "\"use strict\";\n\n\n// Requires\n\nvar dom = require('../dom.js');\nvar request = require('visionmedia/superagent');\nvar Arr = require('jmas/arr');\n\nvar productsTemplate = require('../templates/products.hg');\nvar productItemTemplate = require('../templates/product-item.hg');\n\n\n// Local vars\n\nvar pageEl = document.createElement('DIV');\nvar products = new Arr;\n\n\n// Functions\n\nfunction render() {\n\tvar items = [];\n\n\tfor (var i=0,len=products.length; i<len; i++) {\n\t\titems.push(productItemTemplate.render(products.get(i)));\n\t}\n\n\tvar html = productsTemplate.render({\n\t\tproducts: items.join('')\n\t});\n\n\tdom.replaceHtml(pageEl, html);\n}\n\nfunction requestData() {\n\trequest.get('/api/product').end(function(response) {\n\t\tif (! response.ok) {\n\t\t\temitter.emit('error', 'Не удалось загрузить список товаров.');\n\t\t\treturn;\n\t\t}\n\n\t\tif (typeof response.body.result === 'undefined') {\n\t\t\temitter.emit('error', 'Результат неизвестен.');\n\t\t\treturn;\n\t\t}\n\n\t\tproducts.remove();\n\t\tproducts.insert(response.body.result);\n\t});\n}\n\n\n// Bootstrap\n\nproducts.on('change', render);\n\n\n// Exports\n\nmodule.exports = function(rootEl, emitter) {\n\tconsole.log('products bootstrap.');\n\n\trootEl.appendChild(pageEl);\n\n\temitter.on('page.activated.products', function(name) {\n\t\trequestData();\n\n\t\tconsole.log('activated products page');\n\t});\n};",
    "deps": {
      "../dom.js": "front/dom.js",
      "visionmedia/superagent": "components/visionmedia-superagent@0.20.0/lib/client.js",
      "jmas/arr": "components/jmas-arr@0.1.4/Arr.js",
      "../templates/products.hg": "front/templates/products.hg",
      "../templates/product-item.hg": "front/templates/product-item.hg"
    }
  },
  "front/pages/product.js": {
    "id": "front/pages/product.js",
    "type": "js",
    "mtime": 1414873176000,
    "src": "\"use strict\";\n\nvar dom = require('../dom.js');\n\nmodule.exports = function(rootEl, emitter) {\n\tconsole.log('product bootstrap.');\n\n\temitter.on('page.activated.product', function(id) {\n\t\tconsole.log('activated product page with id #' + id);\n\t});\n};",
    "deps": {
      "../dom.js": "front/dom.js"
    }
  },
  "components/component-router@0.0.1/index.js": {
    "id": "components/component-router@0.0.1/index.js",
    "type": "js",
    "mtime": 1363460721000,
    "src": "\n/**\n * Module dependencies.\n */\n\ntry {\n  var Route = require('route-component');\n} catch (err) {\n  var Route = require('route');\n}\n\n/**\n * Expose `Router`.\n */\n\nmodule.exports = Router;\n\n/**\n * Initialize a new Router.\n *\n * @api public\n */\n\nfunction Router() {\n  this.routes = [];\n}\n\n/**\n * Create route `path` with optional `before`\n * and `after` callbacks. If you omit these\n * they may be added later with the `Route` returned.\n *\n *   router.get('/user/:id', showUser, hideUser);\n *\n *   router.get('/user/:id')\n *     .before(showUser)\n *     .after(hideUser)\n *\n * @param {String} path\n * @param {Function} before\n * @param {Function} after\n * @return {Route}\n * @api public\n */\n\nRouter.prototype.get = function(path, before, after){\n  var route = new Route(path);\n  this.routes.push(route);\n  if (before) route.before(before);\n  if (after) route.after(after);\n  return route;\n};\n\n/**\n * Dispatch the given `path`, matching routes\n * sequentially.\n *\n * @param {String} path\n * @api public\n */\n\nRouter.prototype.dispatch = function(path){\n  var ret;\n  this.teardown();\n  for (var i = 0; i < this.routes.length; i++) {\n    var route = this.routes[i];\n    if (ret = route.match(path)) {\n      this.route = route;\n      this.args = ret.args;\n      route.call('before', ret.args);\n      break;\n    }\n  }\n};\n\n/**\n * Invoke teardown callbacks of previous route.\n *\n * @api private\n */\n\nRouter.prototype.teardown = function(){\n  var route = this.route;\n  if (!route) return;\n  route.call('after', this.args);\n};\n",
    "deps": {
      "route": "components/component-route@0.2.0/index.js"
    }
  },
  "components/component-route@0.2.0/index.js": {
    "id": "components/component-route@0.2.0/index.js",
    "type": "js",
    "mtime": 1363459318000,
    "src": "\n/**\n * Module dependencies.\n */\n\nvar toRegexp = require('path-to-regexp');\n\n/**\n * Expose `Route`.\n */\n\nmodule.exports = Route;\n\n/**\n * Initialize a route with the given `path`.\n *\n * @param {String|Regexp} path\n * @return {Type}\n * @api public\n */\n\nfunction Route(path) {\n  this.path = path;\n  this.keys = [];\n  this.regexp = toRegexp(path, this.keys);\n  this._before = [];\n  this._after = [];\n}\n\n/**\n * Add before `fn`.\n *\n * @param {Function} fn\n * @return {Route} self\n * @api public\n */\n\nRoute.prototype.before = function(fn){\n  this._before.push(fn);\n  return this;\n};\n\n/**\n * Add after `fn`.\n *\n * @param {Function} fn\n * @return {Route} self\n * @api public\n */\n\nRoute.prototype.after = function(fn){\n  this._after.push(fn);\n  return this;\n};\n\n/**\n * Invoke callbacks for `type` with `args`.\n *\n * @param {String} type\n * @param {Array} args\n * @api public\n */\n\nRoute.prototype.call = function(type, args){\n  args = args || [];\n  var fns = this['_' + type];\n  if (!fns) throw new Error('invalid type');\n  for (var i = 0; i < fns.length; i++) {\n    fns[i].apply(null, args);\n  }\n};\n\n/**\n * Check if `path` matches this route,\n * returning `false` or an object.\n *\n * @param {String} path\n * @return {Object}\n * @api public\n */\n\nRoute.prototype.match = function(path){\n  var keys = this.keys;\n  var qsIndex = path.indexOf('?');\n  var pathname = ~qsIndex ? path.slice(0, qsIndex) : path;\n  var m = this.regexp.exec(pathname);\n  var params = [];\n  var args = [];\n\n  if (!m) return false;\n\n  for (var i = 1, len = m.length; i < len; ++i) {\n    var key = keys[i - 1];\n\n    var val = 'string' == typeof m[i]\n      ? decodeURIComponent(m[i])\n      : m[i];\n\n    if (key) {\n      params[key.name] = undefined !== params[key.name]\n        ? params[key.name]\n        : val;\n    } else {\n      params.push(val);\n    }\n\n    args.push(val);\n  }\n\n  params.args = args;\n  return params;\n};\n",
    "deps": {
      "path-to-regexp": "components/component-path-to-regexp@v1.0.1/index.js"
    }
  },
  "components/component-path-to-regexp@v1.0.1/index.js": {
    "id": "components/component-path-to-regexp@v1.0.1/index.js",
    "type": "js",
    "mtime": 1409306178000,
    "src": "/**\n * Expose `pathtoRegexp`.\n */\nmodule.exports = pathtoRegexp;\nconsole.log(\"DEPRECATED use https://github.com/pillarjs/path-to-regexp\");\n\n/**\n * The main path matching regexp utility.\n *\n * @type {RegExp}\n */\nvar PATH_REGEXP = new RegExp([\n  // Match already escaped characters that would otherwise incorrectly appear\n  // in future matches. This allows the user to escape special characters that\n  // shouldn't be transformed.\n  '(\\\\\\\\.)',\n  // Match Express-style parameters and un-named parameters with a prefix\n  // and optional suffixes. Matches appear as:\n  //\n  // \"/:test(\\\\d+)?\" => [\"/\", \"test\", \"\\d+\", undefined, \"?\"]\n  // \"/route(\\\\d+)\" => [undefined, undefined, undefined, \"\\d+\", undefined]\n  '([\\\\/.])?(?:\\\\:(\\\\w+)(?:\\\\(((?:\\\\\\\\.|[^)])*)\\\\))?|\\\\(((?:\\\\\\\\.|[^)])*)\\\\))([+*?])?',\n  // Match regexp special characters that should always be escaped.\n  '([.+*?=^!:${}()[\\\\]|\\\\/])'\n].join('|'), 'g');\n\n/**\n * Escape the capturing group by escaping special characters and meaning.\n *\n * @param  {String} group\n * @return {String}\n */\nfunction escapeGroup (group) {\n  return group.replace(/([=!:$\\/()])/g, '\\\\$1');\n}\n\n/**\n * Attach the keys as a property of the regexp.\n *\n * @param  {RegExp} re\n * @param  {Array}  keys\n * @return {RegExp}\n */\nvar attachKeys = function (re, keys) {\n  re.keys = keys;\n\n  return re;\n};\n\n/**\n * Normalize the given path string, returning a regular expression.\n *\n * An empty array should be passed in, which will contain the placeholder key\n * names. For example `/user/:id` will then contain `[\"id\"]`.\n *\n * @param  {(String|RegExp|Array)} path\n * @param  {Array}                 keys\n * @param  {Object}                options\n * @return {RegExp}\n */\nfunction pathtoRegexp (path, keys, options) {\n  if (keys && !Array.isArray(keys)) {\n    options = keys;\n    keys = null;\n  }\n\n  keys = keys || [];\n  options = options || {};\n\n  var strict = options.strict;\n  var end = options.end !== false;\n  var flags = options.sensitive ? '' : 'i';\n  var index = 0;\n\n  if (path instanceof RegExp) {\n    // Match all capturing groups of a regexp.\n    var groups = path.source.match(/\\((?!\\?)/g) || [];\n\n    // Map all the matches to their numeric keys and push into the keys.\n    keys.push.apply(keys, groups.map(function (match, index) {\n      return {\n        name:      index,\n        delimiter: null,\n        optional:  false,\n        repeat:    false\n      };\n    }));\n\n    // Return the source back to the user.\n    return attachKeys(path, keys);\n  }\n\n  if (Array.isArray(path)) {\n    // Map array parts into regexps and return their source. We also pass\n    // the same keys and options instance into every generation to get\n    // consistent matching groups before we join the sources together.\n    path = path.map(function (value) {\n      return pathtoRegexp(value, keys, options).source;\n    });\n\n    // Generate a new regexp instance by joining all the parts together.\n    return attachKeys(new RegExp('(?:' + path.join('|') + ')', flags), keys);\n  }\n\n  // Alter the path string into a usable regexp.\n  path = path.replace(PATH_REGEXP, function (match, escaped, prefix, key, capture, group, suffix, escape) {\n    // Avoiding re-escaping escaped characters.\n    if (escaped) {\n      return escaped;\n    }\n\n    // Escape regexp special characters.\n    if (escape) {\n      return '\\\\' + escape;\n    }\n\n    var repeat   = suffix === '+' || suffix === '*';\n    var optional = suffix === '?' || suffix === '*';\n\n    keys.push({\n      name:      key || index++,\n      delimiter: prefix || '/',\n      optional:  optional,\n      repeat:    repeat\n    });\n\n    // Escape the prefix character.\n    prefix = prefix ? '\\\\' + prefix : '';\n\n    // Match using the custom capturing group, or fallback to capturing\n    // everything up to the next slash (or next period if the param was\n    // prefixed with a period).\n    capture = escapeGroup(capture || group || '[^' + (prefix || '\\\\/') + ']+?');\n\n    // Allow parameters to be repeated more than once.\n    if (repeat) {\n      capture = capture + '(?:' + prefix + capture + ')*';\n    }\n\n    // Allow a parameter to be optional.\n    if (optional) {\n      return '(?:' + prefix + '(' + capture + '))?';\n    }\n\n    // Basic parameter support.\n    return prefix + '(' + capture + ')';\n  });\n\n  // Check whether the path ends in a slash as it alters some match behaviour.\n  var endsWithSlash = path[path.length - 1] === '/';\n\n  // In non-strict mode we allow an optional trailing slash in the match. If\n  // the path to match already ended with a slash, we need to remove it for\n  // consistency. The slash is only valid at the very end of a path match, not\n  // anywhere in the middle. This is important for non-ending mode, otherwise\n  // \"/test/\" will match \"/test//route\".\n  if (!strict) {\n    path = (endsWithSlash ? path.slice(0, -2) : path) + '(?:\\\\/(?=$))?';\n  }\n\n  // In non-ending mode, we need prompt the capturing groups to match as much\n  // as possible by using a positive lookahead for the end or next path segment.\n  if (!end) {\n    path += strict && endsWithSlash ? '' : '(?=\\\\/|$)';\n  }\n\n  return attachKeys(new RegExp('^' + path + (end ? '$' : ''), flags), keys);\n};\n",
    "deps": {}
  },
  "front/styles.css": {
    "id": "front/styles.css",
    "type": "css",
    "mtime": 1414944481000,
    "src": "* {\n\tpadding: 0;\n\tmargin: 0;\n}\n\nbody {\n\tfont-family: sans-serif;\n\tbackground-color: #fff;\n\tcolor: #000;\n}\n\nimg {\n\tborder: none;\n\tdisplay: inline-block;\n}\n\na {\n\ttext-decoration: none;\n\tcolor: #045FB4;\n}\n\na:hover {\n\tcolor: #FF4000;\n}\n\np {\n\tline-height: 1.3em;\n}\n\ninput {\n\tborder: 1px solid #58ACFA;\n\tpadding: .25em .5em;\n}\n\nh3 {\n\tborder-bottom: 1px solid #eee;\n\tline-height: 50px;\n\tcolor: #666;\n\tfont-weight: normal;\n\tmargin-bottom: 25px;\n}\n\n.empty {\n\ttext-align: center;\n\tcolor: #666;\n\tline-height: 1.3em;\n}\n\n.action-btn {\n\tdisplay: inline-block;\n\tborder: 1px solid #eee;\n\tpadding: .25em 1em;\n\tborder-radius: 1em;\n\tcursor: pointer;\n\tvertical-align: middle;\n}\n\n.action-btn:hover,\n.action-btn:focus {\n\toutline: none;\n\tbackground-color: rgba(200, 200, 200, .1);\n}\n\n.action-btn.accept {\n\tborder-color: green;\n\tcolor: green;\n}\n\n.action-btn.remove {\n\tborder-color: orange;\n\tcolor: orange;\n}\n\n.product-list {\n\toverflow: hidden;\n}\n\n.product-list.hor-list .product-item {\n\twidth: 230px;\n\tfloat: left;\n\tmargin: 0 25px 25px 0;\n}\n\n.product-item {\n\tdisplay: block;\n\tbackground-color: #fafafa;\n\tpadding: 15px;\n\tborder: 1px solid #eee;\n\toverflow: hidden;\n}\n\n.product-image {\n\tposition: relative;\n\tdisplay: block;\n\toverflow: hidden;\n\theight: 180px;\n\ttext-align: center;\n\tmargin: -15px -15px 15px -15px;\n\tbackground-color: #F2F2F2;\n}\n\n.product-image img {\n\tmin-height: 100%;\n\tmin-width: 100%;\n}\n\n.product-image .amount {\n\tposition: absolute;\n\ttop: 50%;\n\tleft: 0;\n\twidth: 100%;\n\theight: 50px;\n\tline-height: 50px;\n\tfont-size: 2.5em;\n\tcolor: #fff;\n\tmargin-top: -25px;\n\ttext-shadow: 0 0 3px #000;\n}\n\n.product-summary {\n\tposition: relative;\n\toverflow: hidden;\n}\n\n.product-summary .name {\n\twidth: 100%;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n\tdisplay: block;\n\tfont-size: 1em;\n\tmargin-bottom: .3em;\n}\n\n.product-summary .price {\n\tfont-size: .9em;\n\tfont-weight: bold;\n\tcolor: green;\n\tmargin-bottom: .8em;\n}\n\n.product-summary .amount {\n\tmargin-bottom: 1em;\n\tfloat: left;\n\tmargin-right: .5em;\n}\n\n.product-summary .amount input {\n\twidth: 3em;\n\ttext-align: center;\n\tfont-size: 1em;\n}\n\n.page-item {\n\tdisplay: none;\n}\n\n.page-item.active {\n\tdisplay: block;\n}\n\n.recomends-empty {\n\tmargin-bottom: 25px;\n}\n\n\n\n#app {\n\tmax-width: 1650px;\n\tmargin: 0 auto;\n}\n\n#aside-content {\n\tposition: relative;\n\tfloat: right;\n\twidth: 350px;\n\tpadding: 25px;\n\tmargin: 25px 25px 0 0;\n\toverflow: hidden;\n\tbackground-color: #fff;\n\tborder: 1px solid #eee;\n}\n\n#aside-title {\n\tpadding: 15px;\n\tborder-bottom: 1px solid #eee;\n\tbackground-color: #fafafa;\n\tmargin: -25px -25px 25px -25px;\n\ttext-align: center;\n\tfont-weight: bold;\n\tcolor: #666;\n}\n\n#main-content {\n\toverflow: hidden;\n\tpadding: 25px;\n}\n\n#cart-product-list .product-item {\n\tmargin-bottom: 25px;\n}\n\n#cart-product-list .product-image {\n\tmargin: -15px 15px -15px -15px;\n\tfloat: left;\n\twidth: 120px;\n\theight: 120px;\n}\n\n#cart-checkout {\n\ttext-align: center;\n\tfont-weight: bold;\n\tdisplay: none;\n}\n\n#cart-checkout.active {\n\tdisplay: block;\n}\n\n#product-view {\n\tdisplay: block;\n\tbackground-color: #fafafa;\n\tpadding: 15px;\n\tborder: 1px solid #eee;\n\toverflow: hidden;\n\tfont-size: 1.2em;\n\tmargin-bottom: 25px;\n}\n\n#product-view .product-image {\n\twidth: 200px;\n\theight: 200px;\n\tfloat: left;\n\tmargin: -15px 15px -15px -15px;\n}\n\n#product-view-back {\n\ttext-align: center;\n\tfont-size: 1.2em;\n\tmargin-bottom: 25px;\n}",
    "deps": {},
    "entry": true
  },
  "front/dom.js": {
    "id": "front/dom.js",
    "type": "js",
    "mtime": 1414945155000,
    "src": "\"use strict\";\n\n\nmodule.exports = {\n  removeChildNodes: function(node) {\n    if (! this.isNode(node)) {\n      console.warn('node is wrong.');\n      return;\n    }\n\n    while (node.firstChild) {\n      node.removeChild(node.firstChild);  \n    }\n  },\n  replaceHtml: function(node, html) {\n    this.removeChildNodes(node);\n    this.html(node, html);\n  },\n  appendHtml: function(node, html) {\n    this.html(node, html, 'beforeend');\n  },\n  html: function(node, html, pos) {\n    pos = pos || 'beforeend';\n\n    if (! html instanceof String) {\n      console.warn('html is not string.');\n      return;\n    }\n\n    if (! node) {\n      console.warn('node is wrong.');\n      return;\n    }\n\n    node.insertAdjacentHTML(pos, html);\n  },\n  isNode: function(obj) {\n    return (\n      typeof Node === \"object\" ? obj instanceof Node : \n      obj && typeof obj === \"object\" && typeof obj.nodeType === \"number\" && typeof obj.nodeName===\"string\"\n    );\n  },\n  scrollTo: function(el, to, duration) {\n    // duration = duration || 100;\n\n    // var difference = to - el.scrollTop;\n    // var perTick = difference / duration * 10;\n\n    // setTimeout(function() {\n      el.scrollTop = to;\n    //   if (el.scrollTop <= to) return;\n    //   scrollTo(el, to, duration - 10);\n    // }, 10);\n  }\n};",
    "deps": {}
  },
  "front/templates/products.hogan": {
    "id": "front/templates/products.hogan",
    "type": "js",
    "mtime": 1414872210000,
    "src": "module.exports = '<div id=\"main-product-list\" class=\"product-list\">\\n\t{{products}}\\n</div>';",
    "deps": {}
  },
  "front/templates/products.hg": {
    "id": "front/templates/products.hg",
    "type": "js",
    "mtime": 1414935600000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div id=\\\"main-product-list\\\" class=\\\"product-list hor-list\\\">\");t.b(\"\\n\" + i);t.b(\"\t\");t.b(t.t(t.f(\"products\",c,p,0)));t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "hogan-runtime": {
    "id": "hogan-runtime",
    "src": "/*\n *  Copyright 2011 Twitter, Inc.\n *  Licensed under the Apache License, Version 2.0 (the \"License\");\n *  you may not use this file except in compliance with the License.\n *  You may obtain a copy of the License at\n *\n *  http://www.apache.org/licenses/LICENSE-2.0\n *\n *  Unless required by applicable law or agreed to in writing, software\n *  distributed under the License is distributed on an \"AS IS\" BASIS,\n *  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n *  See the License for the specific language governing permissions and\n *  limitations under the License.\n */\n\nvar Hogan = {};\n\n(function (Hogan) {\n  Hogan.Template = function (codeObj, text, compiler, options) {\n    codeObj = codeObj || {};\n    this.r = codeObj.code || this.r;\n    this.c = compiler;\n    this.options = options || {};\n    this.text = text || '';\n    this.partials = codeObj.partials || {};\n    this.subs = codeObj.subs || {};\n    this.buf = '';\n  }\n\n  Hogan.Template.prototype = {\n    // render: replaced by generated code.\n    r: function (context, partials, indent) { return ''; },\n\n    // variable escaping\n    v: hoganEscape,\n\n    // triple stache\n    t: coerceToString,\n\n    render: function render(context, partials, indent) {\n      return this.ri([context], partials || {}, indent);\n    },\n\n    // render internal -- a hook for overrides that catches partials too\n    ri: function (context, partials, indent) {\n      return this.r(context, partials, indent);\n    },\n\n    // ensurePartial\n    ep: function(symbol, partials) {\n      var partial = this.partials[symbol];\n\n      // check to see that if we've instantiated this partial before\n      var template = partials[partial.name];\n      if (partial.instance && partial.base == template) {\n        return partial.instance;\n      }\n\n      if (typeof template == 'string') {\n        if (!this.c) {\n          throw new Error(\"No compiler available.\");\n        }\n        template = this.c.compile(template, this.options);\n      }\n\n      if (!template) {\n        return null;\n      }\n\n      // We use this to check whether the partials dictionary has changed\n      this.partials[symbol].base = template;\n\n      if (partial.subs) {\n        // Make sure we consider parent template now\n        if (!partials.stackText) partials.stackText = {};\n        for (key in partial.subs) {\n          if (!partials.stackText[key]) {\n            partials.stackText[key] = (this.activeSub !== undefined && partials.stackText[this.activeSub]) ? partials.stackText[this.activeSub] : this.text;\n          }\n        }\n        template = createSpecializedPartial(template, partial.subs, partial.partials,\n          this.stackSubs, this.stackPartials, partials.stackText);\n      }\n      this.partials[symbol].instance = template;\n\n      return template;\n    },\n\n    // tries to find a partial in the current scope and render it\n    rp: function(symbol, context, partials, indent) {\n      var partial = this.ep(symbol, partials);\n      if (!partial) {\n        return '';\n      }\n\n      return partial.ri(context, partials, indent);\n    },\n\n    // render a section\n    rs: function(context, partials, section) {\n      var tail = context[context.length - 1];\n\n      if (!isArray(tail)) {\n        section(context, partials, this);\n        return;\n      }\n\n      for (var i = 0; i < tail.length; i++) {\n        context.push(tail[i]);\n        section(context, partials, this);\n        context.pop();\n      }\n    },\n\n    // maybe start a section\n    s: function(val, ctx, partials, inverted, start, end, tags) {\n      var pass;\n\n      if (isArray(val) && val.length === 0) {\n        return false;\n      }\n\n      if (typeof val == 'function') {\n        val = this.ms(val, ctx, partials, inverted, start, end, tags);\n      }\n\n      pass = !!val;\n\n      if (!inverted && pass && ctx) {\n        ctx.push((typeof val == 'object') ? val : ctx[ctx.length - 1]);\n      }\n\n      return pass;\n    },\n\n    // find values with dotted names\n    d: function(key, ctx, partials, returnFound) {\n      var found,\n          names = key.split('.'),\n          val = this.f(names[0], ctx, partials, returnFound),\n          doModelGet = this.options.modelGet,\n          cx = null;\n\n      if (key === '.' && isArray(ctx[ctx.length - 2])) {\n        val = ctx[ctx.length - 1];\n      } else {\n        for (var i = 1; i < names.length; i++) {\n          found = findInScope(names[i], val, doModelGet);\n          if (found !== undefined) {\n            cx = val;\n            val = found;\n          } else {\n            val = '';\n          }\n        }\n      }\n\n      if (returnFound && !val) {\n        return false;\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        ctx.push(cx);\n        val = this.mv(val, ctx, partials);\n        ctx.pop();\n      }\n\n      return val;\n    },\n\n    // find values with normal names\n    f: function(key, ctx, partials, returnFound) {\n      var val = false,\n          v = null,\n          found = false,\n          doModelGet = this.options.modelGet;\n\n      for (var i = ctx.length - 1; i >= 0; i--) {\n        v = ctx[i];\n        val = findInScope(key, v, doModelGet);\n        if (val !== undefined) {\n          found = true;\n          break;\n        }\n      }\n\n      if (!found) {\n        return (returnFound) ? false : \"\";\n      }\n\n      if (!returnFound && typeof val == 'function') {\n        val = this.mv(val, ctx, partials);\n      }\n\n      return val;\n    },\n\n    // higher order templates\n    ls: function(func, cx, partials, text, tags) {\n      var oldTags = this.options.delimiters;\n\n      this.options.delimiters = tags;\n      this.b(this.ct(coerceToString(func.call(cx, text)), cx, partials));\n      this.options.delimiters = oldTags;\n\n      return false;\n    },\n\n    // compile text\n    ct: function(text, cx, partials) {\n      if (this.options.disableLambda) {\n        throw new Error('Lambda features disabled.');\n      }\n      return this.c.compile(text, this.options).render(cx, partials);\n    },\n\n    // template result buffering\n    b: function(s) { this.buf += s; },\n\n    fl: function() { var r = this.buf; this.buf = ''; return r; },\n\n    // method replace section\n    ms: function(func, ctx, partials, inverted, start, end, tags) {\n      var textSource,\n          cx = ctx[ctx.length - 1],\n          result = func.call(cx);\n\n      if (typeof result == 'function') {\n        if (inverted) {\n          return true;\n        } else {\n          textSource = (this.activeSub && this.subsText && this.subsText[this.activeSub]) ? this.subsText[this.activeSub] : this.text;\n          return this.ls(result, cx, partials, textSource.substring(start, end), tags);\n        }\n      }\n\n      return result;\n    },\n\n    // method replace variable\n    mv: function(func, ctx, partials) {\n      var cx = ctx[ctx.length - 1];\n      var result = func.call(cx);\n\n      if (typeof result == 'function') {\n        return this.ct(coerceToString(result.call(cx)), cx, partials);\n      }\n\n      return result;\n    },\n\n    sub: function(name, context, partials, indent) {\n      var f = this.subs[name];\n      if (f) {\n        this.activeSub = name;\n        f(context, partials, this, indent);\n        this.activeSub = false;\n      }\n    }\n\n  };\n\n  //Find a key in an object\n  function findInScope(key, scope, doModelGet) {\n    var val;\n\n    if (scope && typeof scope == 'object') {\n\n      if (scope[key] !== undefined) {\n        val = scope[key];\n\n      // try lookup with get for backbone or similar model data\n      } else if (doModelGet && scope.get && typeof scope.get == 'function') {\n        val = scope.get(key);\n      }\n    }\n\n    return val;\n  }\n\n  function createSpecializedPartial(instance, subs, partials, stackSubs, stackPartials, stackText) {\n    function PartialTemplate() {};\n    PartialTemplate.prototype = instance;\n    function Substitutions() {};\n    Substitutions.prototype = instance.subs;\n    var key;\n    var partial = new PartialTemplate();\n    partial.subs = new Substitutions();\n    partial.subsText = {};  //hehe. substext.\n    partial.buf = '';\n\n    stackSubs = stackSubs || {};\n    partial.stackSubs = stackSubs;\n    partial.subsText = stackText;\n    for (key in subs) {\n      if (!stackSubs[key]) stackSubs[key] = subs[key];\n    }\n    for (key in stackSubs) {\n      partial.subs[key] = stackSubs[key];\n    }\n\n    stackPartials = stackPartials || {};\n    partial.stackPartials = stackPartials;\n    for (key in partials) {\n      if (!stackPartials[key]) stackPartials[key] = partials[key];\n    }\n    for (key in stackPartials) {\n      partial.partials[key] = stackPartials[key];\n    }\n\n    return partial;\n  }\n\n  var rAmp = /&/g,\n      rLt = /</g,\n      rGt = />/g,\n      rApos = /\\'/g,\n      rQuot = /\\\"/g,\n      hChars = /[&<>\\\"\\']/;\n\n  function coerceToString(val) {\n    return String((val === null || val === undefined) ? '' : val);\n  }\n\n  function hoganEscape(str) {\n    str = coerceToString(str);\n    return hChars.test(str) ?\n      str\n        .replace(rAmp, '&amp;')\n        .replace(rLt, '&lt;')\n        .replace(rGt, '&gt;')\n        .replace(rApos, '&#39;')\n        .replace(rQuot, '&quot;') :\n      str;\n  }\n\n  var isArray = Array.isArray || function(a) {\n    return Object.prototype.toString.call(a) === '[object Array]';\n  };\n\n})(typeof exports !== 'undefined' ? exports : Hogan);\n",
    "entry": false,
    "include": true,
    "deps": {}
  },
  "components/visionmedia-superagent@0.20.0/lib/client.js": {
    "id": "components/visionmedia-superagent@0.20.0/lib/client.js",
    "type": "js",
    "mtime": 1412284791000,
    "src": "/**\n * Module dependencies.\n */\n\nvar Emitter = require('emitter');\nvar reduce = require('reduce');\n\n/**\n * Root reference for iframes.\n */\n\nvar root = 'undefined' == typeof window\n  ? this\n  : window;\n\n/**\n * Noop.\n */\n\nfunction noop(){};\n\n/**\n * Check if `obj` is a host object,\n * we don't want to serialize these :)\n *\n * TODO: future proof, move to compoent land\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isHost(obj) {\n  var str = {}.toString.call(obj);\n\n  switch (str) {\n    case '[object File]':\n    case '[object Blob]':\n    case '[object FormData]':\n      return true;\n    default:\n      return false;\n  }\n}\n\n/**\n * Determine XHR.\n */\n\nfunction getXHR() {\n  if (root.XMLHttpRequest\n    && ('file:' != root.location.protocol || !root.ActiveXObject)) {\n    return new XMLHttpRequest;\n  } else {\n    try { return new ActiveXObject('Microsoft.XMLHTTP'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.6.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP.3.0'); } catch(e) {}\n    try { return new ActiveXObject('Msxml2.XMLHTTP'); } catch(e) {}\n  }\n  return false;\n}\n\n/**\n * Removes leading and trailing whitespace, added to support IE.\n *\n * @param {String} s\n * @return {String}\n * @api private\n */\n\nvar trim = ''.trim\n  ? function(s) { return s.trim(); }\n  : function(s) { return s.replace(/(^\\s*|\\s*$)/g, ''); };\n\n/**\n * Check if `obj` is an object.\n *\n * @param {Object} obj\n * @return {Boolean}\n * @api private\n */\n\nfunction isObject(obj) {\n  return obj === Object(obj);\n}\n\n/**\n * Serialize the given `obj`.\n *\n * @param {Object} obj\n * @return {String}\n * @api private\n */\n\nfunction serialize(obj) {\n  if (!isObject(obj)) return obj;\n  var pairs = [];\n  for (var key in obj) {\n    if (null != obj[key]) {\n      pairs.push(encodeURIComponent(key)\n        + '=' + encodeURIComponent(obj[key]));\n    }\n  }\n  return pairs.join('&');\n}\n\n/**\n * Expose serialization method.\n */\n\n request.serializeObject = serialize;\n\n /**\n  * Parse the given x-www-form-urlencoded `str`.\n  *\n  * @param {String} str\n  * @return {Object}\n  * @api private\n  */\n\nfunction parseString(str) {\n  var obj = {};\n  var pairs = str.split('&');\n  var parts;\n  var pair;\n\n  for (var i = 0, len = pairs.length; i < len; ++i) {\n    pair = pairs[i];\n    parts = pair.split('=');\n    obj[decodeURIComponent(parts[0])] = decodeURIComponent(parts[1]);\n  }\n\n  return obj;\n}\n\n/**\n * Expose parser.\n */\n\nrequest.parseString = parseString;\n\n/**\n * Default MIME type map.\n *\n *     superagent.types.xml = 'application/xml';\n *\n */\n\nrequest.types = {\n  html: 'text/html',\n  json: 'application/json',\n  xml: 'application/xml',\n  urlencoded: 'application/x-www-form-urlencoded',\n  'form': 'application/x-www-form-urlencoded',\n  'form-data': 'application/x-www-form-urlencoded'\n};\n\n/**\n * Default serialization map.\n *\n *     superagent.serialize['application/xml'] = function(obj){\n *       return 'generated xml here';\n *     };\n *\n */\n\n request.serialize = {\n   'application/x-www-form-urlencoded': serialize,\n   'application/json': JSON.stringify\n };\n\n /**\n  * Default parsers.\n  *\n  *     superagent.parse['application/xml'] = function(str){\n  *       return { object parsed from str };\n  *     };\n  *\n  */\n\nrequest.parse = {\n  'application/x-www-form-urlencoded': parseString,\n  'application/json': JSON.parse\n};\n\n/**\n * Parse the given header `str` into\n * an object containing the mapped fields.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction parseHeader(str) {\n  var lines = str.split(/\\r?\\n/);\n  var fields = {};\n  var index;\n  var line;\n  var field;\n  var val;\n\n  lines.pop(); // trailing CRLF\n\n  for (var i = 0, len = lines.length; i < len; ++i) {\n    line = lines[i];\n    index = line.indexOf(':');\n    field = line.slice(0, index).toLowerCase();\n    val = trim(line.slice(index + 1));\n    fields[field] = val;\n  }\n\n  return fields;\n}\n\n/**\n * Return the mime type for the given `str`.\n *\n * @param {String} str\n * @return {String}\n * @api private\n */\n\nfunction type(str){\n  return str.split(/ *; */).shift();\n};\n\n/**\n * Return header field parameters.\n *\n * @param {String} str\n * @return {Object}\n * @api private\n */\n\nfunction params(str){\n  return reduce(str.split(/ *; */), function(obj, str){\n    var parts = str.split(/ *= */)\n      , key = parts.shift()\n      , val = parts.shift();\n\n    if (key && val) obj[key] = val;\n    return obj;\n  }, {});\n};\n\n/**\n * Initialize a new `Response` with the given `xhr`.\n *\n *  - set flags (.ok, .error, etc)\n *  - parse header\n *\n * Examples:\n *\n *  Aliasing `superagent` as `request` is nice:\n *\n *      request = superagent;\n *\n *  We can use the promise-like API, or pass callbacks:\n *\n *      request.get('/').end(function(res){});\n *      request.get('/', function(res){});\n *\n *  Sending data can be chained:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' })\n *        .end(function(res){});\n *\n *  Or passed to `.send()`:\n *\n *      request\n *        .post('/user')\n *        .send({ name: 'tj' }, function(res){});\n *\n *  Or passed to `.post()`:\n *\n *      request\n *        .post('/user', { name: 'tj' })\n *        .end(function(res){});\n *\n * Or further reduced to a single call for simple cases:\n *\n *      request\n *        .post('/user', { name: 'tj' }, function(res){});\n *\n * @param {XMLHTTPRequest} xhr\n * @param {Object} options\n * @api private\n */\n\nfunction Response(req, options) {\n  options = options || {};\n  this.req = req;\n  this.xhr = this.req.xhr;\n  this.text = this.xhr.responseText;\n  this.setStatusProperties(this.xhr.status);\n  this.header = this.headers = parseHeader(this.xhr.getAllResponseHeaders());\n  // getAllResponseHeaders sometimes falsely returns \"\" for CORS requests, but\n  // getResponseHeader still works. so we get content-type even if getting\n  // other headers fails.\n  this.header['content-type'] = this.xhr.getResponseHeader('content-type');\n  this.setHeaderProperties(this.header);\n  this.body = this.req.method != 'HEAD'\n    ? this.parseBody(this.text)\n    : null;\n}\n\n/**\n * Get case-insensitive `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api public\n */\n\nResponse.prototype.get = function(field){\n  return this.header[field.toLowerCase()];\n};\n\n/**\n * Set header related properties:\n *\n *   - `.type` the content type without params\n *\n * A response of \"Content-Type: text/plain; charset=utf-8\"\n * will provide you with a `.type` of \"text/plain\".\n *\n * @param {Object} header\n * @api private\n */\n\nResponse.prototype.setHeaderProperties = function(header){\n  // content-type\n  var ct = this.header['content-type'] || '';\n  this.type = type(ct);\n\n  // params\n  var obj = params(ct);\n  for (var key in obj) this[key] = obj[key];\n};\n\n/**\n * Parse the given body `str`.\n *\n * Used for auto-parsing of bodies. Parsers\n * are defined on the `superagent.parse` object.\n *\n * @param {String} str\n * @return {Mixed}\n * @api private\n */\n\nResponse.prototype.parseBody = function(str){\n  var parse = request.parse[this.type];\n  return parse && str && str.length\n    ? parse(str)\n    : null;\n};\n\n/**\n * Set flags such as `.ok` based on `status`.\n *\n * For example a 2xx response will give you a `.ok` of __true__\n * whereas 5xx will be __false__ and `.error` will be __true__. The\n * `.clientError` and `.serverError` are also available to be more\n * specific, and `.statusType` is the class of error ranging from 1..5\n * sometimes useful for mapping respond colors etc.\n *\n * \"sugar\" properties are also defined for common cases. Currently providing:\n *\n *   - .noContent\n *   - .badRequest\n *   - .unauthorized\n *   - .notAcceptable\n *   - .notFound\n *\n * @param {Number} status\n * @api private\n */\n\nResponse.prototype.setStatusProperties = function(status){\n  var type = status / 100 | 0;\n\n  // status / class\n  this.status = status;\n  this.statusType = type;\n\n  // basics\n  this.info = 1 == type;\n  this.ok = 2 == type;\n  this.clientError = 4 == type;\n  this.serverError = 5 == type;\n  this.error = (4 == type || 5 == type)\n    ? this.toError()\n    : false;\n\n  // sugar\n  this.accepted = 202 == status;\n  this.noContent = 204 == status || 1223 == status;\n  this.badRequest = 400 == status;\n  this.unauthorized = 401 == status;\n  this.notAcceptable = 406 == status;\n  this.notFound = 404 == status;\n  this.forbidden = 403 == status;\n};\n\n/**\n * Return an `Error` representative of this response.\n *\n * @return {Error}\n * @api public\n */\n\nResponse.prototype.toError = function(){\n  var req = this.req;\n  var method = req.method;\n  var url = req.url;\n\n  var msg = 'cannot ' + method + ' ' + url + ' (' + this.status + ')';\n  var err = new Error(msg);\n  err.status = this.status;\n  err.method = method;\n  err.url = url;\n\n  return err;\n};\n\n/**\n * Expose `Response`.\n */\n\nrequest.Response = Response;\n\n/**\n * Initialize a new `Request` with the given `method` and `url`.\n *\n * @param {String} method\n * @param {String} url\n * @api public\n */\n\nfunction Request(method, url) {\n  var self = this;\n  Emitter.call(this);\n  this._query = this._query || [];\n  this.method = method;\n  this.url = url;\n  this.header = {};\n  this._header = {};\n  this.on('end', function(){\n    try {\n      var res = new Response(self);\n      if ('HEAD' == method) res.text = null;\n      self.callback(null, res);\n    } catch(e) {\n      var err = new Error('Parser is unable to parse the response');\n      err.parse = true;\n      err.original = e;\n      self.callback(err);\n    }\n  });\n}\n\n/**\n * Mixin `Emitter`.\n */\n\nEmitter(Request.prototype);\n\n/**\n * Allow for extension\n */\n\nRequest.prototype.use = function(fn) {\n  fn(this);\n  return this;\n}\n\n/**\n * Set timeout to `ms`.\n *\n * @param {Number} ms\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.timeout = function(ms){\n  this._timeout = ms;\n  return this;\n};\n\n/**\n * Clear previous timeout.\n *\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.clearTimeout = function(){\n  this._timeout = 0;\n  clearTimeout(this._timer);\n  return this;\n};\n\n/**\n * Abort the request, and clear potential timeout.\n *\n * @return {Request}\n * @api public\n */\n\nRequest.prototype.abort = function(){\n  if (this.aborted) return;\n  this.aborted = true;\n  this.xhr.abort();\n  this.clearTimeout();\n  this.emit('abort');\n  return this;\n};\n\n/**\n * Set header `field` to `val`, or multiple fields with one object.\n *\n * Examples:\n *\n *      req.get('/')\n *        .set('Accept', 'application/json')\n *        .set('X-API-Key', 'foobar')\n *        .end(callback);\n *\n *      req.get('/')\n *        .set({ Accept: 'application/json', 'X-API-Key': 'foobar' })\n *        .end(callback);\n *\n * @param {String|Object} field\n * @param {String} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.set = function(field, val){\n  if (isObject(field)) {\n    for (var key in field) {\n      this.set(key, field[key]);\n    }\n    return this;\n  }\n  this._header[field.toLowerCase()] = val;\n  this.header[field] = val;\n  return this;\n};\n\n/**\n * Remove header `field`.\n *\n * Example:\n *\n *      req.get('/')\n *        .unset('User-Agent')\n *        .end(callback);\n *\n * @param {String} field\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.unset = function(field){\n  delete this._header[field.toLowerCase()];\n  delete this.header[field];\n  return this;\n};\n\n/**\n * Get case-insensitive header `field` value.\n *\n * @param {String} field\n * @return {String}\n * @api private\n */\n\nRequest.prototype.getHeader = function(field){\n  return this._header[field.toLowerCase()];\n};\n\n/**\n * Set Content-Type to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.xml = 'application/xml';\n *\n *      request.post('/')\n *        .type('xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n *      request.post('/')\n *        .type('application/xml')\n *        .send(xmlstring)\n *        .end(callback);\n *\n * @param {String} type\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.type = function(type){\n  this.set('Content-Type', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Accept to `type`, mapping values from `request.types`.\n *\n * Examples:\n *\n *      superagent.types.json = 'application/json';\n *\n *      request.get('/agent')\n *        .accept('json')\n *        .end(callback);\n *\n *      request.get('/agent')\n *        .accept('application/json')\n *        .end(callback);\n *\n * @param {String} accept\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.accept = function(type){\n  this.set('Accept', request.types[type] || type);\n  return this;\n};\n\n/**\n * Set Authorization field value with `user` and `pass`.\n *\n * @param {String} user\n * @param {String} pass\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.auth = function(user, pass){\n  var str = btoa(user + ':' + pass);\n  this.set('Authorization', 'Basic ' + str);\n  return this;\n};\n\n/**\n* Add query-string `val`.\n*\n* Examples:\n*\n*   request.get('/shoes')\n*     .query('size=10')\n*     .query({ color: 'blue' })\n*\n* @param {Object|String} val\n* @return {Request} for chaining\n* @api public\n*/\n\nRequest.prototype.query = function(val){\n  if ('string' != typeof val) val = serialize(val);\n  if (val) this._query.push(val);\n  return this;\n};\n\n/**\n * Write the field `name` and `val` for \"multipart/form-data\"\n * request bodies.\n *\n * ``` js\n * request.post('/upload')\n *   .field('foo', 'bar')\n *   .end(callback);\n * ```\n *\n * @param {String} name\n * @param {String|Blob|File} val\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.field = function(name, val){\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(name, val);\n  return this;\n};\n\n/**\n * Queue the given `file` as an attachment to the specified `field`,\n * with optional `filename`.\n *\n * ``` js\n * request.post('/upload')\n *   .attach(new Blob(['<a id=\"a\"><b id=\"b\">hey!</b></a>'], { type: \"text/html\"}))\n *   .end(callback);\n * ```\n *\n * @param {String} field\n * @param {Blob|File} file\n * @param {String} filename\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.attach = function(field, file, filename){\n  if (!this._formData) this._formData = new FormData();\n  this._formData.append(field, file, filename);\n  return this;\n};\n\n/**\n * Send `data`, defaulting the `.type()` to \"json\" when\n * an object is given.\n *\n * Examples:\n *\n *       // querystring\n *       request.get('/search')\n *         .end(callback)\n *\n *       // multiple data \"writes\"\n *       request.get('/search')\n *         .send({ search: 'query' })\n *         .send({ range: '1..5' })\n *         .send({ order: 'desc' })\n *         .end(callback)\n *\n *       // manual json\n *       request.post('/user')\n *         .type('json')\n *         .send('{\"name\":\"tj\"})\n *         .end(callback)\n *\n *       // auto json\n *       request.post('/user')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // manual x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send('name=tj')\n *         .end(callback)\n *\n *       // auto x-www-form-urlencoded\n *       request.post('/user')\n *         .type('form')\n *         .send({ name: 'tj' })\n *         .end(callback)\n *\n *       // defaults to x-www-form-urlencoded\n  *      request.post('/user')\n  *        .send('name=tobi')\n  *        .send('species=ferret')\n  *        .end(callback)\n *\n * @param {String|Object} data\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.send = function(data){\n  var obj = isObject(data);\n  var type = this.getHeader('Content-Type');\n\n  // merge\n  if (obj && isObject(this._data)) {\n    for (var key in data) {\n      this._data[key] = data[key];\n    }\n  } else if ('string' == typeof data) {\n    if (!type) this.type('form');\n    type = this.getHeader('Content-Type');\n    if ('application/x-www-form-urlencoded' == type) {\n      this._data = this._data\n        ? this._data + '&' + data\n        : data;\n    } else {\n      this._data = (this._data || '') + data;\n    }\n  } else {\n    this._data = data;\n  }\n\n  if (!obj) return this;\n  if (!type) this.type('json');\n  return this;\n};\n\n/**\n * Invoke the callback with `err` and `res`\n * and handle arity check.\n *\n * @param {Error} err\n * @param {Response} res\n * @api private\n */\n\nRequest.prototype.callback = function(err, res){\n  var fn = this._callback;\n  if (2 == fn.length) return fn(err, res);\n  if (err) return this.emit('error', err);\n  fn(res);\n};\n\n/**\n * Invoke callback with x-domain error.\n *\n * @api private\n */\n\nRequest.prototype.crossDomainError = function(){\n  var err = new Error('Origin is not allowed by Access-Control-Allow-Origin');\n  err.crossDomain = true;\n  this.callback(err);\n};\n\n/**\n * Invoke callback with timeout error.\n *\n * @api private\n */\n\nRequest.prototype.timeoutError = function(){\n  var timeout = this._timeout;\n  var err = new Error('timeout of ' + timeout + 'ms exceeded');\n  err.timeout = timeout;\n  this.callback(err);\n};\n\n/**\n * Enable transmission of cookies with x-domain requests.\n *\n * Note that for this to work the origin must not be\n * using \"Access-Control-Allow-Origin\" with a wildcard,\n * and also must set \"Access-Control-Allow-Credentials\"\n * to \"true\".\n *\n * @api public\n */\n\nRequest.prototype.withCredentials = function(){\n  this._withCredentials = true;\n  return this;\n};\n\n/**\n * Initiate request, invoking callback `fn(res)`\n * with an instanceof `Response`.\n *\n * @param {Function} fn\n * @return {Request} for chaining\n * @api public\n */\n\nRequest.prototype.end = function(fn){\n  var self = this;\n  var xhr = this.xhr = getXHR();\n  var query = this._query.join('&');\n  var timeout = this._timeout;\n  var data = this._formData || this._data;\n\n  // store callback\n  this._callback = fn || noop;\n\n  // state change\n  xhr.onreadystatechange = function(){\n    if (4 != xhr.readyState) return;\n    if (0 == xhr.status) {\n      if (self.aborted) return self.timeoutError();\n      return self.crossDomainError();\n    }\n    self.emit('end');\n  };\n\n  // progress\n  if (xhr.upload) {\n    xhr.upload.onprogress = function(e){\n      e.percent = e.loaded / e.total * 100;\n      self.emit('progress', e);\n    };\n  }\n\n  // timeout\n  if (timeout && !this._timer) {\n    this._timer = setTimeout(function(){\n      self.abort();\n    }, timeout);\n  }\n\n  // querystring\n  if (query) {\n    query = request.serializeObject(query);\n    this.url += ~this.url.indexOf('?')\n      ? '&' + query\n      : '?' + query;\n  }\n\n  // initiate request\n  xhr.open(this.method, this.url, true);\n\n  // CORS\n  if (this._withCredentials) xhr.withCredentials = true;\n\n  // body\n  if ('GET' != this.method && 'HEAD' != this.method && 'string' != typeof data && !isHost(data)) {\n    // serialize stuff\n    var serialize = request.serialize[this.getHeader('Content-Type')];\n    if (serialize) data = serialize(data);\n  }\n\n  // set header fields\n  for (var field in this.header) {\n    if (null == this.header[field]) continue;\n    xhr.setRequestHeader(field, this.header[field]);\n  }\n\n  // send stuff\n  this.emit('request', this);\n  xhr.send(data);\n  return this;\n};\n\n/**\n * Expose `Request`.\n */\n\nrequest.Request = Request;\n\n/**\n * Issue a request:\n *\n * Examples:\n *\n *    request('GET', '/users').end(callback)\n *    request('/users').end(callback)\n *    request('/users', callback)\n *\n * @param {String} method\n * @param {String|Function} url or callback\n * @return {Request}\n * @api public\n */\n\nfunction request(method, url) {\n  // callback\n  if ('function' == typeof url) {\n    return new Request('GET', method).end(url);\n  }\n\n  // url first\n  if (1 == arguments.length) {\n    return new Request('GET', method);\n  }\n\n  return new Request(method, url);\n}\n\n/**\n * GET `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.get = function(url, data, fn){\n  var req = request('GET', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.query(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * HEAD `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.head = function(url, data, fn){\n  var req = request('HEAD', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * DELETE `url` with optional callback `fn(res)`.\n *\n * @param {String} url\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.del = function(url, fn){\n  var req = request('DELETE', url);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PATCH `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.patch = function(url, data, fn){\n  var req = request('PATCH', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * POST `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed} data\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.post = function(url, data, fn){\n  var req = request('POST', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * PUT `url` with optional `data` and callback `fn(res)`.\n *\n * @param {String} url\n * @param {Mixed|Function} data or fn\n * @param {Function} fn\n * @return {Request}\n * @api public\n */\n\nrequest.put = function(url, data, fn){\n  var req = request('PUT', url);\n  if ('function' == typeof data) fn = data, data = null;\n  if (data) req.send(data);\n  if (fn) req.end(fn);\n  return req;\n};\n\n/**\n * Expose `request`.\n */\n\nmodule.exports = request;\n",
    "deps": {
      "emitter": "components/component-emitter@1.1.3/index.js",
      "reduce": "components/component-reduce@1.0.1/index.js"
    }
  },
  "components/component-reduce@1.0.1/index.js": {
    "id": "components/component-reduce@1.0.1/index.js",
    "type": "js",
    "mtime": 1382206595000,
    "src": "\n/**\n * Reduce `arr` with `fn`.\n *\n * @param {Array} arr\n * @param {Function} fn\n * @param {Mixed} initial\n *\n * TODO: combatible error handling?\n */\n\nmodule.exports = function(arr, fn, initial){  \n  var idx = 0;\n  var len = arr.length;\n  var curr = arguments.length == 3\n    ? initial\n    : arr[idx++];\n\n  while (idx < len) {\n    curr = fn.call(null, curr, arr[idx], ++idx, arr);\n  }\n  \n  return curr;\n};",
    "deps": {}
  },
  "components/jmas-arr@0.1.4/Arr.js": {
    "id": "components/jmas-arr@0.1.4/Arr.js",
    "type": "js",
    "mtime": 1411997925000,
    "src": "(function(rootScope) {\n  \n  // original Array methods\n  var\n    arrayPop = Array.prototype.pop,\n    arrayPush = Array.prototype.push,\n    arrayReverse = Array.prototype.reverse,\n    arrayShift = Array.prototype.shift,\n    arraySort = Array.prototype.sort,\n    arraySplice = Array.prototype.splice,\n    arrayUnshift = Array.prototype.unshift;\n  \n  /**\n   * Constructor.\n   */\n  function Arr() {\n    var instance = this;\n    \n    if (! instance instanceof Arr) {\n      instance = new Arr();\n    }\n        \n    if (arguments.length === 1 && typeof arguments[0] === 'number' && arguments[0] % 1 === 0) {\n      arrayPush.apply(instance, new Array(arguments[0]));\n    } else {\n      arrayPush.apply(instance, arguments);\n    }\n    \n    instance.events = {};\n    \n    return instance;\n  };\n  \n  // Attach prototype\n  Arr.prototype = [];\n  \n  /**\n   * Attached events.\n   */\n  Arr.prototype.events = {};\n   \n  /**\n   * Get value by index.\n   */\n  Arr.prototype.get = function(index, defaultValue) {\n    return typeof this[index] === 'undefined' ? defaultValue: this[index];\n  };\n   \n  /**\n   * Attach event handler.\n   */\n  Arr.prototype.on = function(eventName, handler) {\n    if (typeof this.events[eventName] === 'undefined') {\n      this.events[eventName] = [];\n    }\n\n    this.events[eventName].push(handler);\n\n    return this;\n  };\n   \n  /**\n   * Trigger event.\n   */\n  Arr.prototype.trigger = function(eventName, args) {\n    args = args || [];\n\n    if (eventName instanceof Array) {\n      for (var k=0, klen=eventName.length; k<klen; k++) {\n        if (typeof this.events[eventName[k]] === 'undefined') {\n          continue;\n        }\n       \n        for (var i=0,len=this.events[eventName[k]].length; i<len; i++) {\n          this.events[eventName[k]][i].apply(this, [args]);\n        }\n      }\n    } else {\n      for (var i=0,len=this.events[eventName].length; i<len; i++) {\n        this.events[eventName][i].apply(this, [args]);\n      }\n    }\n\n    return this;\n  };\n   \n  /**\n   * Update items by handler.\n   */\n  Arr.prototype.update = function(handler) {\n    if (! handler instanceof Function) {\n      throw new Error('handler should be an Function');\n    }\n    \n    var oldValue, newValue, i, result = [];\n   \n    for (i=0,len=this.length; i<len; i++) {\n      oldValue = this[i];\n      newValue = handler.apply(this, [oldValue, i]);\n      \n      if (typeof newValue !== 'undefined') {\n        this[i] = newValue;\n        result.push(newValue);\n      }\n    }\n   \n    if (result.length > 0) {\n      if (typeof this.events.change !== 'undefined' || typeof this.events.update !== 'undefined') {\n        this.trigger(['change', 'update'], {\n          type: 'update',\n          items: result\n        });\n      }\n    }\n   \n    return this;\n  };\n  \n  /**\n   * Insert array of items.\n   */\n  Arr.prototype.insert = function(items) {\n    if (! items instanceof Array) {\n      throw new Error('items should be an Array');\n    }\n    \n    arrayPush.apply(this, items);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.insert !== 'undefined') {\n      this.trigger(['change', 'insert'], {\n        type: 'insert',\n        items: items\n      });\n    }\n\n    return this;\n  };\n  \n  /**\n   * Remove items by handler.\n   */\n  Arr.prototype.remove = function(handler) {\n    if (typeof handler === 'undefined') { // drop all items\n      if (this.length > 0) {\n        this.splice(0, this.length);\n      }\n      \n      return this;\n    }\n    \n    if (! handler instanceof Function) {\n      throw new Error('handler should be an Function');\n    }\n    \n    var result = [], stay = [], i;\n\n    for (i=0, len=this.length; i<len; i++) {\n      isRemove = handler.apply(this, [this[i], i]);\n      \n      if (isRemove === true) {\n        result.push(this[i]);\n      } else {\n        stay.push(this[i]);\n      }\n    }\n\n    arraySplice.apply(this, [0, this.length]);\n    arrayPush.apply(this, stay);\n\n    if (result.length > 0) {\n      if (typeof this.events.change !== 'undefined' || typeof this.events.remove !== 'undefined') {\n        this.trigger(['change', 'remove'], {\n          type: 'remove',\n          items: result\n        });\n      }\n    }\n   \n    return this;\n  };\n  \n  /**\n   * Set value by index.\n   */\n  Arr.prototype.set = function(index, value) {\n    if (! index instanceof Number) {\n      throw new Error('index should be an Number');\n    }\n    \n    this[index] = value;\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.update !== 'undefined') {\n      this.trigger(['change', 'update'], {\n        type: 'update',\n        items: [this[index]]\n      });\n    }\n\n    return this;\n  };\n   \n  /**\n   * Removes the last element from an array and returns that element.\n   */\n  Arr.prototype.pop = function() {\n    var result = arrayPop.apply(this, arguments);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.remove !== 'undefined' ) {\n      this.trigger(['change', 'remove'], {\n        type: 'remove',\n        items: [result]\n      });\n    }\n\n    return result;\n  };\n   \n  /**\n   * Adds one or more elements to the end of an array and returns the new length of the array.\n   */\n  Arr.prototype.push = function() {\n    var result = arrayPush.apply(this, arguments);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.insert !== 'undefined' ) {\n      this.trigger(['change', 'insert'], {\n        type: 'insert',\n        items: Array.prototype.slice.call(arguments, 0)\n      });\n    }\n\n    return result;\n  };\n   \n  /**\n   * Reverses the order of the elements of an array — the first becomes the last, and the last becomes the first.\n   */\n  Arr.prototype.reverse = function() {\n    var result = arrayReverse.apply(this, arguments);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.update !== 'undefined' ) {\n      this.trigger(['change', 'update'], {\n        type: 'update',\n        items: Array.prototype.slice.call(result, 0)\n      });\n    }\n\n    return result;\n  };\n   \n  /**\n   * Removes the first element from an array and returns that element.\n   */\n  Arr.prototype.shift = function() {\n    var result = arrayShift.apply(this, arguments);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.remove !== 'undefined' ) {\n      this.trigger(['change', 'remove'], {\n        type: 'remove',\n        items: [result]\n      });\n    }\n\n    return result;\n  };\n   \n  /**\n   * Sorts the elements of an array in place and returns the array.\n   */\n  Arr.prototype.sort = function() {\n    var result = arraySort.apply(this, arguments);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.update !== 'undefined' ) {\n      this.trigger(['change', 'update'], {\n        type: 'update',\n        items: Array.prototype.slice.call(result, 0)\n      });\n    }\n\n    return result;\n  };\n   \n  /**\n   * Adds and/or removes elements from an array.\n   */\n  Arr.prototype.splice = function() {\n    var result = arraySplice.apply(this, arguments);\n\n    if (result.length > 0) {\n      if (typeof this.events.change !== 'undefined' || typeof this.events.remove !== 'undefined' ) {\n        this.trigger(['change', 'remove'], {\n          type: 'remove',\n          items: Array.prototype.slice.call(result, 0)\n        });\n      }\n    }\n\n    if (arguments.length > 2) {\n      if (typeof this.events.change !== 'undefined' || typeof this.events.insert !== 'undefined' ) {\n        this.trigger(['change', 'insert'], {\n          type: 'insert',\n          items: Array.prototype.slice.call(arguments, 2)\n        });\n      }\n    }\n\n    return result;\n  };\n   \n  /**\n   * Adds one or more elements to the front of an array and returns the new length of the array.\n   */\n  Arr.prototype.unshift = function() {\n    var result = arrayUnshift.apply(this, arguments);\n\n    if (typeof this.events.change !== 'undefined' || typeof this.events.insert !== 'undefined' ) {\n      this.trigger(['change', 'insert'], {\n        type: 'insert',\n        items: [result]\n      });\n    }\n\n    return result;\n  };\n  \n  // exports\n\n  if (typeof module !== 'undefined') {\n    module.exports = Arr;\n  } else {\n    rootScope.Arr = Arr;\n  }\n})(this);\n",
    "deps": {}
  },
  "front/templates/product-item.hg": {
    "id": "front/templates/product-item.hg",
    "type": "js",
    "mtime": 1414942181000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"product-item\\\">\");t.b(\"\\n\" + i);t.b(\"  <a class=\\\"product-image\\\" href=\\\"#/product/\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\">\");t.b(\"\\n\" + i);t.b(\"    <img src=\\\"\");t.b(t.v(t.f(\"image\",c,p,0)));t.b(\"\\\" alt=\\\"\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);if(t.s(t.f(\"amount\",c,p,1),c,p,0,137,183,\"{{ }}\")){t.rs(c,p,function(c,p,t){t.b(\"    <div class=\\\"amount\\\">\");t.b(t.v(t.f(\"amount\",c,p,0)));t.b(\"</div>\");t.b(\"\\n\" + i);});c.pop();}t.b(\"  </a>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"product-summary\\\">\");t.b(\"\\n\" + i);t.b(\"    <a class=\\\"name\\\" href=\\\"#/product/\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\">\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"</a>\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"price\\\">\");t.b(t.v(t.f(\"_priceFormatted\",c,p,0)));t.b(\" грн.</div>\");t.b(\"\\n\" + i);t.b(\"    <span class=\\\"action-btn accept\\\" data-cart=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\">В корзину</span>\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "front/parts/cart.js": {
    "id": "front/parts/cart.js",
    "type": "js",
    "mtime": 1414942224000,
    "src": "\"use strict\";\n\n\n// Requires\n\nvar dom = require('../dom.js');\nvar storeService = require('../store-service.js');\nvar throttle = require('jmas/throttle');\nvar fmt = require('../format.js');\n\nvar cartTemplate = require('../templates/cart.hg');\nvar cartEmptyTemplate = require('../templates/cart-empty.hg');\nvar productItemTemplate = require('../templates/product-item.hg');\n\n\n// Local vars\n\nvar partEl = document.createElement('DIV');\nvar cartCheckoutEl = document.getElementById('cart-checkout');\nvar cartCheckoutPriceEl = document.getElementById('cart-checkout-price');\nvar cartCheckoutBtn = document.getElementById('cart-checkout-btn');\nvar products = storeService.cartProducts;\n\n\n// Functions\n\nfunction render() {\n  var items = [];\n\n  if (products.length > 0) {\n    var price = 0;\n\n    for (var item,i=0,len=products.length; i<len; i++) {\n      item = products.get(i);\n      item._priceFormatted = fmt.formatCur(parseFloat(item.price), 2, 3, ' ', ',');\n\n      items.push(productItemTemplate.render(item));\n\n      price += item.price * item.amount;\n    }\n\n    var html = cartTemplate.render({\n      products: items.join('')\n    });\n\n    cartCheckoutEl.classList.add('active');\n\n    cartCheckoutPriceEl.innerHTML = fmt.formatCur(parseFloat(Math.ceil(price * 100) / 100), 2, 3, ' ', ',');\n  } else {\n    cartCheckoutEl.classList.remove('active');\n    html = cartEmptyTemplate.render();\n  }\n\n  dom.replaceHtml(partEl, html);\n\n  console.log('render cart');\n}\n\nfunction registerCartEventHandler() {\n  document.getElementsByTagName('BODY')[0].addEventListener('click', function(event) {\n    var productId = typeof event.target.getAttribute !== 'undefined' ? event.target.getAttribute('data-cart'): null;\n    var amount = typeof event.target.getAttribute !== 'undefined' ? event.target.getAttribute('data-amount'): null;\n\n    if (productId !== null) {\n      storeService.addProductToCart(productId, amount);\n    }\n  }, false);\n}\n\nfunction registerCheckoutEventHandler() {\n  cartCheckoutBtn.addEventListener('click', function(event) {\n    storeService.checkout();\n  }, false);\n}\n\n\n// Bootstrap\n\nstoreService.cartProducts.on('change', throttle(render));\n\nregisterCartEventHandler();\n\nregisterCheckoutEventHandler();\n\n\n// Exports\n\nmodule.exports = function(rootEl, emitter) {\n  console.log('cart bootstrap.');\n\n  storeService.loadCartProducts();\n\n  emitter.on('cart.add', function(productId) {\n    storeService.addProductToCart(productId);\n  });\n\n  return partEl;\n};",
    "deps": {
      "../dom.js": "front/dom.js",
      "../store-service.js": "front/store-service.js",
      "jmas/throttle": "components/jmas-throttle@master/throttle.js",
      "../format.js": "front/format.js",
      "../templates/cart.hg": "front/templates/cart.hg",
      "../templates/cart-empty.hg": "front/templates/cart-empty.hg",
      "../templates/product-item.hg": "front/templates/product-item.hg"
    }
  },
  "front/parts/product.js": {
    "id": "front/parts/product.js",
    "type": "js",
    "mtime": 1414942634000,
    "src": "\"use strict\";\n\n\n// Requires\n\nvar dom = require('../dom.js');\nvar throttle = require('jmas/throttle');\nvar parallel = require('jmas/parallel');\nvar request = require('visionmedia/superagent');\nvar fmt = require('../format.js');\n\nvar productTemplate = require('../templates/product.hg');\nvar productViewTemplate = require('../templates/product-view.hg');\nvar productItemTemplate = require('../templates/product-item.hg');\nvar recomendsEmptyTemplate = require('../templates/recomends-empty.hg');\n\n\n// Local vars\n\nvar partEl = document.createElement('DIV');\nvar product = {};\nvar buyWithProducts = [];\nvar viewWithProducts = [];\nvar cartWithProducts = [];\nvar emitter = null;\n\n\n// Functions\n\nfunction render() {\n  var data = product;\n  data.amount = 1;\n  data._priceFormatted = fmt.formatCur(parseFloat(data.price), 2, 3, ' ', ',');\n\n  var productViewHtml = productViewTemplate.render(data);\n\n  var html = productTemplate.render({\n    product_view: productViewHtml\n  });\n\n  dom.replaceHtml(partEl, html);\n\n  // Render recomends\n\n  var buyWithListEl = document.getElementById('product-view-buy-with-list');\n  var viewWithListEl = document.getElementById('product-view-view-with-list');\n  var cartWithListEl = document.getElementById('product-view-cart-with-list');\n\n  if (buyWithProducts.length > 0) {\n    var buyWithHtml = renderList(buyWithProducts, productItemTemplate);\n  } else {\n    var buyWithHtml = recomendsEmptyTemplate.render();\n  }\n\n  if (viewWithProducts.length > 0) {\n    var viewWithHtml = renderList(viewWithProducts, productItemTemplate);\n  } else {\n    var viewWithHtml = recomendsEmptyTemplate.render();\n  }\n\n  if (cartWithProducts.length > 0) {\n    var cartWithHtml = renderList(cartWithProducts, productItemTemplate);\n  } else {\n    var cartWithHtml = recomendsEmptyTemplate.render();\n  }\n\n  dom.replaceHtml(buyWithListEl, buyWithHtml);\n  dom.replaceHtml(viewWithListEl, viewWithHtml);\n  dom.replaceHtml(cartWithListEl, cartWithHtml);\n\n  // Register amount handler\n\n  var amountEl = document.getElementById('product-view-amount');\n  var cartBtn = document.getElementById('product-view-cart-btn');\n\n  amountEl.addEventListener('change', function() {\n    cartBtn.setAttribute('data-amount', this.value);\n  }, false);\n\n  console.log('render product.');\n}\n\nfunction renderList(items, itemTemplate) {\n  var html = [];\n\n  for (var item,i=0,len=items.length; i<len; i++) {\n    item = items[i];\n    \n    item._priceFormatted = fmt.formatCur(parseFloat(item.price), 2, 3, ' ', ',');\n\n    html.push(itemTemplate.render(items[i]));\n  }\n\n  return html.join('');\n}\n\nfunction loadProductAndRecomends(id) {\n  parallel([\n    function(next) { // load product\n      request.get('/api/product/' + id).end(function(response) {\n        if (! response.ok) {\n          emitter.emit('error', 'Не удалось получить данные с сервера.');\n          next();\n          return;\n        }\n\n        if (typeof response.body.result !== 'undefined') {\n          product = response.body.result;\n        } else {\n          product = {};\n        }\n\n        next();\n\n        console.log('loadProducts - product.');\n      });\n    },\n    function(next) { // load recomends by view\n      request.get('/api/product/view-with/' + id).end(function(response) {\n        if (! response.ok) {\n          emitter.emit('error', 'Не удалось получить данные с сервера.');\n          next();\n          return;\n        }\n\n        if (typeof response.body.result !== 'undefined') {\n          viewWithProducts = response.body.result;\n        } else {\n          viewWithProducts = [];\n        }\n\n        next();\n\n        console.log('loadProducts - view-with.');\n      });\n    },\n    function(next) { // load recomends by cart\n      request.get('/api/product/cart-with/' + id).end(function(response) {\n        if (! response.ok) {\n          emitter.emit('error', 'Не удалось получить данные с сервера.');\n          next();\n          return;\n        }\n\n        if (typeof response.body.result !== 'undefined') {\n          cartWithProducts = response.body.result;\n        } else {\n          cartWithProducts = [];\n        }\n\n        next();\n\n        console.log('loadProducts - cart-with.');\n      });\n    },\n    function(next) { // load recomends by buy\n      request.get('/api/product/buy-with/' + id).end(function(response) {\n        if (! response.ok) {\n          emitter.emit('error', 'Не удалось получить данные с сервера.');\n          next();\n          return;\n        }\n\n        if (typeof response.body.result !== 'undefined') {\n          buyWithProducts = response.body.result;\n        } else {\n          buyWithProducts = [];\n        }\n\n        next();\n        console.log('loadProducts - buy-with.');\n      });\n    }\n  ], throttle(render));\n}\n\n\n// Exports\n\nmodule.exports = function(rootEl, _emitter) {\n  console.log('product bootstrap.');\n\n  emitter = _emitter;\n\n  emitter.on('page.activated.product', function(id) {\n    loadProductAndRecomends(id);\n    \n    console.log('activated product page with id #' + id);\n  });\n\n  return partEl;\n};",
    "deps": {
      "../dom.js": "front/dom.js",
      "jmas/throttle": "components/jmas-throttle@master/throttle.js",
      "jmas/parallel": "components/jmas-parallel@master/parallel.js",
      "visionmedia/superagent": "components/visionmedia-superagent@0.20.0/lib/client.js",
      "../format.js": "front/format.js",
      "../templates/product.hg": "front/templates/product.hg",
      "../templates/product-view.hg": "front/templates/product-view.hg",
      "../templates/product-item.hg": "front/templates/product-item.hg",
      "../templates/recomends-empty.hg": "front/templates/recomends-empty.hg"
    }
  },
  "front/parts/products.js": {
    "id": "front/parts/products.js",
    "type": "js",
    "mtime": 1414942283000,
    "src": "\"use strict\";\n\n\n// Requires\n\nvar dom = require('../dom.js');\nvar storeService = require('../store-service.js');\nvar throttle = require('jmas/throttle');\nvar fmt = require('../format.js');\n\nvar productsTemplate = require('../templates/products.hg');\nvar productItemTemplate = require('../templates/product-item.hg');\n\n\n// Local vars\n\nvar partEl = document.createElement('DIV');\nvar products = storeService.products;\n\n\n// Functions\n\nfunction render() {\n\tvar items = [];\n\n\tfor (var item,i=0,len=products.length; i<len; i++) {\n\t\titem = products.get(i);\n\t\t\n\t\titem._priceFormatted = fmt.formatCur(parseFloat(item.price), 2, 3, ' ', ',');\n\n\t\titems.push(productItemTemplate.render(item));\n\t}\n\n\tvar html = productsTemplate.render({\n\t\tproducts: items.join('')\n\t});\n\n\tdom.replaceHtml(partEl, html);\n\n\tconsole.log('render products');\n}\n\n\n// Bootstrap\n\nproducts.on('change', throttle(render));\n\n\n// Exports\n\nmodule.exports = function(rootEl, emitter) {\n\tconsole.log('products bootstrap.');\n\n\temitter.on('page.activated.products', function(name) {\n\t\tstoreService.loadProducts();\n\n\t\tconsole.log('activated products page');\n\t});\n\n\treturn partEl;\n};",
    "deps": {
      "../dom.js": "front/dom.js",
      "../store-service.js": "front/store-service.js",
      "jmas/throttle": "components/jmas-throttle@master/throttle.js",
      "../format.js": "front/format.js",
      "../templates/products.hg": "front/templates/products.hg",
      "../templates/product-item.hg": "front/templates/product-item.hg"
    }
  },
  "front/templates/cart.hg": {
    "id": "front/templates/cart.hg",
    "type": "js",
    "mtime": 1414876947000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div id=\\\"cart-product-list\\\" class=\\\"product-list\\\">\");t.b(\"\\n\" + i);t.b(\"  \");t.b(t.t(t.f(\"products\",c,p,0)));t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "front/templates/cart-empty.hg": {
    "id": "front/templates/cart-empty.hg",
    "type": "js",
    "mtime": 1414943124000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"empty\\\">В корзине нет продуктов.<br />Нажмите «В корзину» чтобы товар очутился здесь.</div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "front/store-service.js": {
    "id": "front/store-service.js",
    "type": "js",
    "mtime": 1414945832000,
    "src": "\"use strict\";\n\n\n// Requires\n\nvar request = require('visionmedia/superagent');\nvar Arr = require('jmas/arr');\nvar Emitter = require('component/emitter');\n\n// Exports\n\nmodule.exports = new Emitter({\n  products: new Arr,\n  cartProducts: new Arr,\n  \n  addProductToCart: function(productId, amount) {\n    var _this = this;\n    amount = amount || 1;\n\n    request.post('/api/order/products/' + productId).query({amount: amount}).end(function(response) {\n      if (! response.ok) {\n        _this.emit('error', 'Не удалось получить данные с сервера.');\n        return;\n      }\n\n      if (typeof response.body.result === 'undefined') {\n        _this.emit('error', 'Результат неизвестен.');\n        return;\n      }\n\n      _this.loadCartProducts();\n    });\n  },\n\n  loadCartProducts: function() {\n    var _this = this;\n\n    request.get('/api/order/products').end(function(response) {\n      if (! response.ok) {\n        _this.emit('error', 'Не удалось получить данные с сервера.');\n        return;\n      }\n\n      if (typeof response.body.result === 'undefined') {\n        _this.emit('error', 'Результат неизвестен.');\n        return;\n      }\n\n      try {\n        _this.cartProducts.length = 0;\n        _this.cartProducts.insert(response.body.result);\n      } catch (e) {\n        console.error(e);\n      }\n\n      console.log('loaded cart products');\n    });\n  },\n  \n  loadProducts: function() {\n    var _this = this;\n\n    request.get('/api/product').end(function(response) {\n      if (! response.ok) {\n        _this.emit('error', 'Не удалось получить данные с сервера.');\n        return;\n      }\n\n      if (typeof response.body.result === 'undefined') {\n        _this.emit('error', 'Результат неизвестен.');\n        return;\n      }\n\n      try {\n        _this.products.length = 0;\n        _this.products.insert(response.body.result);\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  },\n\n  checkout: function() {\n    var _this = this;\n\n    request.post('/api/order').send({ purchased: '1' }).end(function(response) {\n      if (! response.ok) {\n        _this.emit('error', 'Не удалось получить данные с сервера.');\n        return;\n      }\n\n      if (typeof response.body.result === 'undefined') {\n        _this.emit('error', 'Результат неизвестен.');\n        return;\n      }\n\n      _this.emit('checkout');\n\n      try {\n        _this.cartProducts.remove();\n      } catch (e) {\n        console.error(e);\n      }\n    });\n  }\n});",
    "deps": {
      "visionmedia/superagent": "components/visionmedia-superagent@0.20.0/lib/client.js",
      "jmas/arr": "components/jmas-arr@0.1.4/Arr.js",
      "component/emitter": "components/component-emitter@1.1.3/index.js"
    }
  },
  "components/jmas-throttle@master/throttle.js": {
    "id": "components/jmas-throttle@master/throttle.js",
    "type": "js",
    "mtime": 1411595437000,
    "src": "(function(rootScope) {\n  \n  var throttle = function(fn, timeout, ctx) {\n    var timer, args, needInvoke;\n\n    return function() {\n      args = arguments;\n      needInvoke = true;\n      ctx = ctx || this;\n\n      timer || (function() {\n        if(needInvoke) {\n          fn.apply(ctx, args);\n          needInvoke = false;\n          timer = setTimeout(arguments.callee, timeout);\n        }\n        else {\n          timer = null;\n        }\n      })();\n    };\n  };\n\n  if (typeof module !== 'undefined') {\n    module.exports = throttle;\n  } else {\n    rootScope.throttle = throttle;\n  }\n\n})(this);",
    "deps": {}
  },
  "components/jmas-parallel@master/parallel.js": {
    "id": "components/jmas-parallel@master/parallel.js",
    "type": "js",
    "mtime": 1414922741000,
    "src": "(function() {\n  'use strict';\n  \n  var root = this || window;\n\n  var nextTick = function (fn) {\n    if (typeof setImmediate === 'function') {\n      setImmediate(fn);\n    } else if (typeof process !== 'undefined' && process.nextTick) {\n      process.nextTick(fn);\n    } else {\n      setTimeout(fn, 0);\n    }\n  };\n  \n  var parallel = function(tasks, result) {\n    var finished = 0;\n\n    var next = function() {\n      finished++;\n\n      if (finished === tasks.length) {\n        typeof result === 'function' && result.apply(null, []);\n      }\n    };\n\n    for (var i=0,len=tasks.length; i<len; i++) {\n      (function(fn) {\n        nextTick(function () {\n          typeof fn === 'function' && fn.apply(null, [next]);\n        });\n      })(tasks[i]);\n    }\n  };\n  \n  if (typeof define !== 'undefined' && define.amd) {\n    define([], function () {\n      return parallel;\n    }); // RequireJS\n  } else if (typeof module !== 'undefined' && module.exports) {\n    module.exports = parallel; // CommonJS\n  } else {\n    root.parallel = parallel; // <script>\n  }\n  \n})();\n",
    "deps": {}
  },
  "front/parts/checkout.js": {
    "id": "front/parts/checkout.js",
    "type": "js",
    "mtime": 1414933081000,
    "src": "\"use strict\";\n\n\n// Requires\n\nvar dom = require('../dom.js');\nvar throttle = require('jmas/throttle');\nvar parallel = require('jmas/parallel');\nvar storeService = require('../store-service.js');\n\n\n// Local vars\n\nvar partEl = document.createElement('DIV');\n\n\n// Exports\n\nmodule.exports = function(rootEl, emitter) {\n\tconsole.log('checkout bootstrap.');\n\n\treturn partEl;\n};",
    "deps": {
      "../dom.js": "front/dom.js",
      "jmas/throttle": "components/jmas-throttle@master/throttle.js",
      "jmas/parallel": "components/jmas-parallel@master/parallel.js",
      "../store-service.js": "front/store-service.js"
    }
  },
  "front/templates/product.hg": {
    "id": "front/templates/product.hg",
    "type": "js",
    "mtime": 1414935560000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(t.t(t.f(\"product_view\",c,p,0)));t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div id=\\\"product-view-back\\\">\");t.b(\"\\n\" + i);t.b(\"  <a class=\\\"action-btn\\\" href=\\\"#/\\\">Вернуться к списку товаров</a>\");t.b(\"\\n\" + i);t.b(\"</div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<h3>Товары, которые покупают с этим товаром</h3>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div id=\\\"product-view-buy-with-list\\\" class=\\\"product-list hor-list\\\"></div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<h3>Товары, которые просматриваются с этим товаром</h3>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div id=\\\"product-view-view-with-list\\\" class=\\\"product-list hor-list\\\"></div>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<h3>Товары, которые добавляются в корзину с этим товаром</h3>\");t.b(\"\\n\");t.b(\"\\n\" + i);t.b(\"<div id=\\\"product-view-cart-with-list\\\" class=\\\"product-list hor-list\\\"></div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "front/templates/product-view.hg": {
    "id": "front/templates/product-view.hg",
    "type": "js",
    "mtime": 1414942661000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div id=\\\"product-view\\\">\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"product-image\\\">\");t.b(\"\\n\" + i);t.b(\"    <img src=\\\"\");t.b(t.v(t.f(\"image\",c,p,0)));t.b(\"\\\" alt=\\\"\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"\\\" />\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"  <div class=\\\"product-summary\\\">\");t.b(\"\\n\" + i);t.b(\"    <span class=\\\"name\\\">\");t.b(t.v(t.f(\"name\",c,p,0)));t.b(\"</span>\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"price\\\">\");t.b(t.v(t.f(\"_priceFormatted\",c,p,0)));t.b(\" грн.</div>\");t.b(\"\\n\" + i);t.b(\"    <div class=\\\"amount\\\">\");t.b(\"\\n\" + i);t.b(\"      <input id=\\\"product-view-amount\\\" type=\\\"text\\\" value=\\\"1\\\" />\");t.b(\"\\n\" + i);t.b(\"    </div>\");t.b(\"\\n\" + i);t.b(\"    <span id=\\\"product-view-cart-btn\\\" class=\\\"action-btn accept\\\" data-cart=\\\"\");t.b(t.v(t.f(\"id\",c,p,0)));t.b(\"\\\" data-cart-amount=\\\"\");t.b(t.v(t.f(\"amount\",c,p,0)));t.b(\"\\\">В корзину</span>\");t.b(\"\\n\" + i);t.b(\"  </div>\");t.b(\"\\n\" + i);t.b(\"</div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "front/templates/recomends-empty.hg": {
    "id": "front/templates/recomends-empty.hg",
    "type": "js",
    "mtime": 1414936591000,
    "src": "var Template = require('hogan-runtime').Template;module.exports = new Template({code: function (c,p,i) { var t=this;t.b(i=i||\"\");t.b(\"<div class=\\\"empty recomends-empty\\\">Эта рекомендация недоступна, но скоро здесь появятся товары.</div>\");return t.fl(); },partials: {}, subs: {  }});",
    "deps": {
      "hogan-runtime": "hogan-runtime"
    }
  },
  "front/format.js": {
    "id": "front/format.js",
    "type": "js",
    "mtime": 1414941998000,
    "src": "module.exports = {\n  formatCur: function(num, n, x, s, c) {\n    var re = '\\\\d(?=(\\\\d{' + (x || 3) + '})+' + (n > 0 ? '\\\\D' : '$') + ')',\n      num = num.toFixed(Math.max(0, ~~n));\n\n    return (c ? num.replace('.', c) : num).replace(new RegExp(re, 'g'), '$&' + (s || ','));\n  }\n};",
    "deps": {}
  }
}